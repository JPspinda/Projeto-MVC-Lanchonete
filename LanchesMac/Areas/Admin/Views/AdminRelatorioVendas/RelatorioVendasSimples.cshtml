@model IEnumerable<LanchesMac.Models.Pedido>

<section class="bg-dark text-light py-5 min-vh-100">
    <div class="container">

        <!-- Cabeçalho -->
        <div class="d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3">
            <h2 class="fw-bold text-warning m-0">Pedidos por Período</h2>
        </div>

        <!-- FILTRO -->
        <form method="get" class="row g-3 mb-4">
            <div class="col-md-4 col-12">
                <label for="minDate" class="form-label text-warning fw-semibold">Data Inicial</label>
                <input type="date"
                       class="form-control bg-dark text-light border-warning"
                       name="minDate"
                       id="minDate"
                       value="@ViewData["minDate"]">
            </div>

            <div class="col-md-4 col-12">
                <label for="maxDate" class="form-label text-warning fw-semibold">Data Final</label>
                <input type="date"
                       class="form-control bg-dark text-light border-warning"
                       name="maxDate"
                       id="maxDate"
                       value="@ViewData["maxDate"]">
            </div>

            <div class="col-md-4 col-12 d-grid align-items-end mt-auto">
                <button type="submit" class="btn btn-outline-warning fw-semibold">
                    <i class="bi bi-search me-1"></i> Filtrar
                </button>
            </div>
        </form>

        <!-- CARD RESUMO -->
        <div class="card bg-secondary bg-opacity-25 border-0 shadow-lg rounded-4 mb-4 p-3">
            <h5 class="text-warning fw-bold">
                Total de Pedidos:
                <span class="text-light">@Model.Count()</span>
            </h5>

            <h5 class="text-warning fw-bold">
                Total de Lanches:
                <span class="text-light">@Model.Sum(p => p.TotalItensPedido)</span>
            </h5>

            <h5 class="text-warning fw-bold">
                Valor Total:
                <span class="text-light">@Model.Sum(p => p.PedidoTotal).ToString("c")</span>
            </h5>
        </div>

        <!-- TABELA -->
        <div class="table-responsive shadow-lg rounded-3 overflow-hidden">
            <table class="table table-dark table-hover align-middle mb-0">
                <thead class="table-warning text-dark">
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.PedidoId)</th>
                        <th>@Html.DisplayNameFor(model => model.Nome)</th>
                        <th>@Html.DisplayNameFor(model => model.Email)</th>
                        <th>@Html.DisplayNameFor(model => model.Telefone)</th>
                        <th>@Html.DisplayNameFor(model => model.PedidoTotal)</th>
                        <th>@Html.DisplayNameFor(model => model.TotalItensPedido)</th>
                        <th>@Html.DisplayNameFor(model => model.PedidoEntregueEm)</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var pedido in Model)
                    {
                        <tr>
                            <td>@pedido.PedidoId</td>
                            <td class="text-warning fw-semibold">@pedido.Nome</td>
                            <td>@pedido.Email</td>
                            <td>@pedido.Telefone</td>
                            <td>@pedido.PedidoTotal.ToString("c")</td>
                            <td>@pedido.TotalItensPedido</td>
                            <td>@pedido.PedidoEntregueEm</td>
                        </tr>
                    }
                </tbody>

            </table>
        </div>

    </div>
</section>
