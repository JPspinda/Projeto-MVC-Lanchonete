@model CarrinhoCompraViewModel;

<div class="container my-5">
    <div class="p-5 bg-dark text-light rounded-4 shadow-lg border border-secondary">
        <div class="text-center mb-4">
            <h2 class="fw-bold text-warning mb-2">
                <i class="bi bi-cart4 me-2"></i>Seu Carrinho de Compras
            </h2>
            <hr class="border-secondary opacity-50 w-25 mx-auto" />
        </div>

        <div class="table-responsive">
            <table class="table table-dark table-striped align-middle text-center">
                <thead class="table-dark border-bottom border-secondary">
                    <tr class="text-warning">
                        <th scope="col">Quantidade</th>
                        <th scope="col">Lanche</th>
                        <th scope="col" class="text-end">Preço</th>
                        <th scope="col" class="text-end">Subtotal</th>
                        <th scope="col"></th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model.CarrinhoCompra.CarrinhoCompraItens)
                    {
                        <tr>
                            <td class="text-center fw-semibold">@item.Quantidade</td>
                            <td class="text-start">@item.Lanche.Nome</td>
                            <td class="text-end text-success">@item.Lanche.Preco.ToString("c")</td>
                            <td class="text-end text-success fw-semibold">@((item.Lanche.Preco * item.Quantidade).ToString("c"))</td>
                            <td class="text-center">
                                <a class="btn btn-sm btn-outline-danger fw-semibold"
                                   asp-controller="CarrinhoCompra"
                                   asp-action="RemoverItemDoCarrinhoCompra"
                                   asp-route-lancheId="@item.Lanche.lancheId">
                                    <i class="bi bi-trash3-fill me-1"></i> Apagar
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>

                <tfoot class="border-top border-secondary">
                    <tr>
                        <td colspan="3" class="text-end fw-bold text-warning">Total:</td>
                        <td class="text-end fw-bold text-success">
                            @Model.CarrinhoCompraTotal.ToString("c")
                        </td>
                        <td></td>
                    </tr>
                </tfoot>
            </table>
        </div>

        <div class="d-flex justify-content-end gap-3 mt-4">
            <a class="btn btn-success btn-lg fw-semibold shadow-sm"
               asp-controller="Pedido"
               asp-action="Checkout">
                <i class="bi bi-bag-check-fill me-1"></i> Encerrar pedido
            </a>

            &nbsp;&nbsp;&nbsp;

            <a class="btn btn-outline-warning btn-lg fw-semibold shadow-sm"
               asp-controller="Lanche"
               asp-action="List">
                <i class="bi bi-arrow-left-circle me-1"></i> Continuar comprando
            </a>
        </div>
    </div>
</div>
